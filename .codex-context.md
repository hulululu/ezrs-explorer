You are working on a Next.js 14 (App Router) TypeScript project called "ezRS Explorer".

Tech stack:
- Next.js (app router)
- TypeScript (strict)
- MapLibre GL JS
- Client-side state via React hooks
- Mock API layer transitioning to real API
- GeoJSON-based scene footprints
- ROI bbox selection logic on map
- Raster preview tiles overlay

Important constraints:
- Do NOT break existing working functionality.
- Prefer minimal, localized diffs.
- Avoid refactoring entire files unless explicitly asked.
- Keep MapView side-effects separated (init vs update effects).
- Respect existing type definitions in @/types.
- Avoid introducing external UI frameworks unless requested.

When modifying map logic:
- Never recreate the map instance.
- Only update sources/layers via setData or setFilter.
- Guard all map operations with map.isStyleLoaded().

When modifying UI:
- Keep demo-friendly, clean, lightweight styling.
- Avoid overengineering.

Always explain what you changed and why.
